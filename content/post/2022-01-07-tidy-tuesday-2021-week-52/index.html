---
title: Tidy Tuesday 2021 Week 52
author: Steven DiFalco
date: '2022-01-07'
slug: tidy-tuesday-2021-week-52
categories:
  - data visualization
  - TidyTuesday
tags:
  - data visualizations
  - TidyTuesday
subtitle: ''
summary: ''
authors: []
projects: [TidyTuesday]
lastmod: '2022-01-07T16:04:23-05:00'
featured: no
draft: no
disable_jquery: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
---



<div id="this-is-my-contribution-for-tidytuesday-after-a-long-time-of-not-participating." class="section level3">
<h3>This is my contribution for #TidyTuesday, after a long time of not participating.</h3>
</div>
<div id="i-created-an-interactive-plot-using-ggplot-and-plotly-packages-that-compares-the-calories-vs-caffeine-content-of-starbucks-drinks." class="section level3">
<h3>I created an interactive plot using <code>ggplot</code> and <code>plotly</code> packages that compares the calories vs caffeine content of Starbucks drinks.</h3>
<p><embed src="plotly.html" /></p>
<div id="code-below" class="section level4">
<h4>code below:</h4>
<pre class="r"><code>#TidyTuesday 2021, Week 52

library(tidytuesdayR)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(ggplot2)
library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>library(htmlwidgets)

#read in data
tuesdata &lt;- tidytuesdayR::tt_load(&#39;2021-12-21&#39;)</code></pre>
<pre><code>## --- Compiling #TidyTuesday Information for 2021-12-21 ----</code></pre>
<pre><code>## --- There is 1 file available ---</code></pre>
<pre><code>## --- Starting Download ---</code></pre>
<pre><code>## 
##  Downloading file 1 of 1: `starbucks.csv`</code></pre>
<pre><code>## --- Download complete ---</code></pre>
<pre class="r"><code>#load data to starbucks variable
starbucks &lt;- tuesdata$starbucks

#group by product name and create a max_cal to calories:
starbucks &lt;- starbucks %&gt;%
  group_by(product_name) %&gt;%
  mutate(max_serv_size = max(serv_size_m_l), max_cal = max(calories))

#create dateframe with simplified starbucks data.
plot_df &lt;- starbucks %&gt;%
  filter(serv_size_m_l == max_serv_size &amp; calories == max_cal) %&gt;%
  group_by(product_name) %&gt;%
  slice(1) %&gt;%
  filter(size != &quot;1 scoop&quot;)

#create plot for caffeine vs calories
plot = ggplot(plot_df, aes(x=max_cal, y=caffeine_mg))+
  geom_point(aes(color = product_name))+
  labs(x= &quot;Calories&quot;, y= &quot;Caffeine(mg)&quot;, title= &quot;Calories vs Caffeine content in Starbucks Drinks; Hover over point for details&quot;)+
  theme(legend.position = &quot;none&quot;)

#create interactive plot
plotly = ggplotly(plot)

#save as html to view widget
saveWidget(as_widget(plotly), &quot;plotly.html&quot;,selfcontained = F )</code></pre>
</div>
</div>
